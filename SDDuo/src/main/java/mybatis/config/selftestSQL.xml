<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="self">
				<!-- F_SELFTEST - 테이블 이름 -->	
	<resultMap type="selfModel" id="selfModelRes">
		<result property="m_id" column="m_id" />			<!-- 사용자아이디 -->
		<result property="t_score" column="t_score" />	
		<result property="t_category" column="t_category" />
		<result property="t_grade" column="t_grade" />		
	</resultMap>
	
	<!-- 글목록  -->
	<select id="selfList1" resultMap="selfModelRes">
			SELECT * FROM F_SELFTEST1
			where m_id = #{m_id}
	</select>
	
	<!-- 값 체크 -->
	<select id="check1" parameterType="String" resultType="int">
		select count(*) as count from F_SELFTEST1
		where m_id = #{m_id}
	</select>	
	
	<!-- 글쓰기 -->
	<insert id="selfWrite1" parameterType="selfModel">
			INSERT INTO F_SELFTEST1
			(
			m_id,
			t_score
			)
			VALUES
			(
			 #{m_id},
			 #{t_score}
			)
	</insert>
	
	<!-- 값변경 -->
	<update id="selfModify1" parameterType="selfModel">
			UPDATE F_SELFTEST1
			SET
				t_score = #{t_score}
			WHERE
				m_id = #{m_id}
	</update>
	

	<!-- 글삭제 -->
	<delete id="selfDelete" parameterType="String">
			DELETE FROM F_SELFTEST
			WHERE t_category = #{t_category}
	</delete>
</mapper>