<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="reserve" >

	<resultMap type="OneReserModel" id="OneReserRes">
		<result property="pr_number" column="pr_number" />
		<result property="pr_hour" column="pr_hour" />
		<result property="pr_minute" column="pr_minute" />
		<result property="pr_year" column="actor" />
		<result property="pr_month" column="show_date" />
		<result property="pr_day" column="story" />
		<result property="pr_center" column="poster" />
		<result property="m_id" column="cut1" />
		<result property="pr_name" column="cut2" />
		<result property="pr_phone1" column="pr_phone1" />
		<result property="pr_phone2" column="pr_phone2" />
		<result property="pr_phone3" column="pr_phone3" />
		<result property="pr_reason" column="pr_reason" />
		<result property="pr_status" column="pr_status" />
		<result property="pr_date" column="pr_date" />
	</resultMap>
	
	<!-- 개인예약 처리 -->
	<insert id="OneReserve" parameterType="OneReserModel">
		insert into f_reservation
		(pr_number, pr_hour, pr_minute, pr_year, pr_month, pr_day, 
		pr_center, m_id, pr_name, pr_phone1, pr_phone2, pr_phone3,
		pr_reason, pr_status, pr_date)

		values
		(seq_pr_number.nextval,	#{pr_hour}, #{pr_minute}, #{pr_year}, #{pr_month},
		#{pr_day}, #{pr_center}, #{m_id}, #{pr_name}, #{pr_phone1}, #{pr_phone2},
		#{pr_phone3}, #{pr_reason}, sysdate);
	</insert>
	
	<!--개인예약 취소 -->
	<delete id="OneReserDelete" parameterType="int">
		delete from f_reservation where
		pr_number = #{pr_number}
	</delete>

	
	
</mapper>